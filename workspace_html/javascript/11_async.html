<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Document</title>
    <script>
        // fn1 함수가 즉시 호출됨 (호이스팅으로 함수 선언이 최상단으로 올라가서 가능)
        fn1();

        function fn1(){
            console.log('fn1 실행');
            fn2();
            console.log('fn2 끝');
        }

        function fn2(){
            console.log('fn2 실행');
            fn3();
            fn3();
            console.log('중간에 낀1'); 
            // 이건 console에 하라고 시키고 확인 안하고 다음으로 감
            // 그래서 무조건 이자리에 나오는게 아님 
            // (비동기 처리와 동기 처리 차이에 대한 우영님 설명)

            // 비동기 예시 (주석 처리)
            // setTimeout(function(){
            //     console.log('중간에 낀');
            // }, 100);

            fn3();
            fn3();
        }

        function fn3(){
            console.log('fn3 실행');
        }

        function plus(a, b){
            console.log(typeof sum);  
            // sum은 선언 안 됐지만 아래서 암묵적 전역 변수 생성 예정
            if(typeof a === 'number' && typeof b === 'number'){
                sum = a + b;  // var, let 없이 할당하면 전역 변수 생성됨 (권장하지 않음)
                return sum;
            } else {
                console.log('숫자 넣으셈');
            }
        }

        let cc = plus(1, 3);

        console.log(typeof a);  // undefined
        a = 5;  // 전역 변수 a 선언 및 할당 (var/let 없이 사용)
        
        t();

        // 함수 선언문은 호이스팅되어 최상단에서 선언된 것처럼 동작
        function t(){
            z = a;  // 전역 변수 z에 a 값을 할당 (var/let 없이 사용)
            console.log(z);
        }

        /*
        정리:
        1. 함수 선언문은 호이스팅되어 먼저 실행 가능 (t 함수, fn1 등)
        2. 변수는 선언 부분만 호이스팅되고 할당은 호이스팅 안 됨
        3. var, let, const 없이 변수에 값 할당하면 전역 변수가 됨 (권장하지 않음)
        4. plus 함수 내에서 sum이 var/let 없이 사용돼 전역 변수 생성 위험
        5. console.log(typeof a) 실행 시 a는 아직 선언 안 됐으므로 undefined 출력
        */
    </script>
</head>
<body>
</body>
</html>
